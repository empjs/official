import Preparation from '../../shared/preparation.md'
import { Tabs, Tab, PackageManagerTabs } from '@theme';

# React Multi Version

demoé¡¹ç›®ä»“åº“ `emp-show-case`:

```bash
git clone https://github.com/empjs/emp
```

:::danger ğŸš¨ å¯èƒ½é‡åˆ°çš„é”™è¯¯
å¦‚æœæ‚¨æ— æ³•æ‹‰å–é¡¹ç›®è‡³æœ¬åœ°ï¼Œè¯·æ£€æŸ¥æ‚¨çš„ç½‘ç»œç¯å¢ƒæˆ–ä»£ç†è®¾ç½®æ˜¯å¦å¯ä»¥è®¿é—®githubï¼Œå¦‚æœä»ä¸èƒ½è§£å†³ï¼Œè¯·è”ç³»æˆ‘ä»¬ã€‚
:::

åœ¨æ‹‰å–å®Œæˆä»£ç åï¼Œæˆ‘ä»¬è¿›å…¥ä»£ç çš„æ ¹ç›®å½•ï¼Œå®‰è£…é¡¹ç›®ä¾èµ–ï¼Œæ¨èä½¿ç”¨`PNPM`è¿›è¡Œå®‰è£…ï¼š

<PackageManagerTabs command="install" />

å®‰è£…å®Œä¾èµ–åï¼Œè¿è¡Œ `projects/emp-runtime-react-16-app` ç¤ºä¾‹é¡¹ç›®ã€‚

## è¿è¡Œç¤ºä¾‹é¡¹ç›®

:::warning âš ï¸ æ³¨æ„
åœ¨è¿è¡Œç¤ºä¾‹é¡¹ç›®ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»å®Œæˆäº†å‰æœŸå‡†å¤‡ï¼Œå¹¶å½“å‰ç›®å½•å¤„äº`emp-show-case`ä»“åº“çš„æ ¹ç›®å½•ä¸‹ã€‚
:::

### mf-host

é¦–å…ˆè¿›å…¥ç¤ºä¾‹é¡¹ç›®çš„æ ¹ç›®å½•ï¼š

```bash
cd projects/emp-runtime-react-16-app
```

ç„¶åè¿è¡Œä»£ç ï¼š
<PackageManagerTabs command="dev" />

è¿è¡ŒæˆåŠŸåï¼Œæ‚¨å¯ä»¥è®¿é—®`http://localhost:4002/`è¿›è¡ŒæŸ¥çœ‹ã€‚


## æ¼”ç¤ºæ•ˆæœ

å½“æ‚¨çš„ä»£ç è¿è¡ŒæˆåŠŸä¹‹åï¼Œå®ƒåº”è¯¥æ˜¯è¿™æ ·å­çš„ğŸ¤©ï¼š<a target='_blank' href='https://df-react.sc.empjs.dev/app/'>è®¿é—®é“¾æ¥</a>

<iframe src="https://df-react.sc.empjs.dev/app/"
  style={{width: '100%', height: '1100px', border: `20px solid #aaa`, borderRadius: '4px', overflow: 'hidden'}}
  title="mf-host"
></iframe>

## è°ƒç”¨ä¾èµ– 
+ FastMode Runtime
+ react 18
+ react 16 
+ mobx 6
`EMP Runtime`é›†æˆäº†`module federation 2`çš„ç»„ä»¶æ³¨å†Œã€ç»„ä»¶åŠ è½½ä»¥åŠ`withReactAdepter`é«˜é˜¶ç»„ä»¶ã€‚

ä¸»é¡¹ç›®`react 16`ä½¿ç”¨ `FastMode`æ¨¡å¼ï¼ŒåŸºç«™é¡¹ç›®`react 18`ä¸ºå¸¸è§„`module Federation2.0`æ’ä»¶é…ç½®ï¼Œåœ¨é¡¹ç›®ä¸­ï¼Œä¸»é¡¹ç›®ä½¿ç”¨`EMP Runtime`è¿è¡Œæ—¶æ³¨å†Œ`react18`åŸºç«™çš„ç»„ä»¶ï¼Œå¹¶ä½¿ç”¨`EMP Runtime withReactAdepter`å®ä¾‹åŒ–`react18`åŸºç«™ç»„ä»¶ï¼Œè®©å…¶åœ¨`react16`é¡¹ç›®ä¸­æ­£å¸¸è¿è¡Œï¼ŒåŒæ—¶`react16`çš„ç»„ä»¶ä½¿ç”¨`EMP Runtime withReactAdepter`å®ä¾‹åŒ–çš„å½¢å¼æ’å…¥åˆ°è¿œç¨‹çš„`react18`ç»„ä»¶ä¹‹ä¸­ã€‚

<img src="https://hd-static.yystatic.com/0009975609517240969.png" />